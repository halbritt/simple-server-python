machines:
- plugins:
  - type: file
    name: 'File Parser Plugin'
    config:
      version: 1.0.0
      transports:
      - type: ftp
        config:
         version: 1.0.0
         remote_ip: 127.0.0.1
         username: sm
         password: sm
         remote_path: '/sm_inputdata/knife'
      parsers:
      - type: knifedataparser
        config:
          version: 1.0.0
          sslog_folder: '/var/spool/sightmachine/factorytx/knifefileplugin/sslogs'
          parse_options:
          - {
            'report_pattern': 'test*.tst',
            'load': {'parse': {'header': 1,
                           'sep': "\t",
                           'index_col': false,
                           'parse_dates': ['Start Time', 'End Time', 'Cut Start Time',
                                           'Cut End Time', 'Nesting Start Time', 'Nesting End Time']},
                 'counter': False,
                 'actions':[{'set_index': ['Start Time']}, {'rename': {'columns': {'description': 'serial'}}}]

           }}
          - {
            'report_pattern': '*hides*.csv',
            'load': {'parse': {'header': 1,
                           'sep': "\t",
                           'index_col': false,
                           'parse_dates': ['Start Time', 'End Time', 'Cut Start Time',
                                           'Cut End Time', 'Nesting Start Time', 'Nesting End Time']},
                 'counter': False,
                 'actions':[{'set_index': ['Start Time']}, {'rename': {'columns': {'description': 'serial'}}}]

           }}
          - {
            'report_pattern': '*activities*.csv',
            'localtz': 'Asia/Ho_Chi_Minh',
            'load': {'parse': {'header': 1,
                           'sep': "\t",
                           'index_col': false,
                           'parse_dates': ['Start Time', 'End Time']},
            'counter': False,
            'actions':[{'set_index': ['Start Time']}]
           }}
          - {
           'report_pattern': '*raw*.txt',
           'localtz': 'Asia/Ho_Chi_Minh',
           'load': {'parse': {'error_bad_lines': false,
                           'header': null,
                           'names': ['Col0', 'Col1', 'Col2', 'Col3', 'Col4', 'Col5', 'Col6', 'Col7', 'Col8', 'Col9', 'Col10', 'Col11', 'Col12', 'Col13', 'Col14', 'Col15', 'Col16'],
                           'sep': "|",
                           'index_col': false,
                           'parse_dates': ['Col0']},
            'counter': False,
            'actions':[{'set_index': ['Col0']}]
          }}

  source: T2_VT_OscillatingKnife_4
watchers:
- apikey: "API_KEY_HERE"
  host: t2.mrslim-dev
  port: 80
  name: RemoteDataPost
  type: remotedatapost
  maxIPCRetries: 3
  version: 1.0.0
  protocol: 'http'
  path: '/var/spool/sightmachine/factorytx/knifefileplugin/'
  fname_filter: "/*.sslog"
